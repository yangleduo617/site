<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Chapter08 | yangleduo</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/img/logo.png">
    <link rel="stylesheet" href="/css/style.css">
    <meta name="description" content="笔记包含: Java 基础，算法与数据结构，JVM，Java 并发，计算机网络和操作系统，数据库...">
    
    <link rel="preload" href="/assets/css/0.styles.84741abc.css" as="style"><link rel="preload" href="/assets/js/app.8ab89fd3.js" as="script"><link rel="preload" href="/assets/js/2.1806de2e.js" as="script"><link rel="preload" href="/assets/js/25.18216ebd.js" as="script"><link rel="prefetch" href="/assets/js/10.addb8805.js"><link rel="prefetch" href="/assets/js/11.966ea5df.js"><link rel="prefetch" href="/assets/js/12.343097ab.js"><link rel="prefetch" href="/assets/js/13.c5de442f.js"><link rel="prefetch" href="/assets/js/14.4b832613.js"><link rel="prefetch" href="/assets/js/15.391138ab.js"><link rel="prefetch" href="/assets/js/16.82734243.js"><link rel="prefetch" href="/assets/js/17.9810a288.js"><link rel="prefetch" href="/assets/js/18.160b5bea.js"><link rel="prefetch" href="/assets/js/19.81c00282.js"><link rel="prefetch" href="/assets/js/20.80721cd7.js"><link rel="prefetch" href="/assets/js/21.ae3e7e0f.js"><link rel="prefetch" href="/assets/js/22.a1c73e35.js"><link rel="prefetch" href="/assets/js/23.7d2c61c5.js"><link rel="prefetch" href="/assets/js/24.ff6743b6.js"><link rel="prefetch" href="/assets/js/26.ad27ade0.js"><link rel="prefetch" href="/assets/js/27.6a486ec2.js"><link rel="prefetch" href="/assets/js/28.b44a4561.js"><link rel="prefetch" href="/assets/js/29.764b35b4.js"><link rel="prefetch" href="/assets/js/3.cf608d20.js"><link rel="prefetch" href="/assets/js/30.1cc20b40.js"><link rel="prefetch" href="/assets/js/31.69d07b12.js"><link rel="prefetch" href="/assets/js/32.e037096a.js"><link rel="prefetch" href="/assets/js/33.9b9059fb.js"><link rel="prefetch" href="/assets/js/34.93f9f260.js"><link rel="prefetch" href="/assets/js/35.e9575b48.js"><link rel="prefetch" href="/assets/js/36.bd564898.js"><link rel="prefetch" href="/assets/js/37.6285f86f.js"><link rel="prefetch" href="/assets/js/38.510e0099.js"><link rel="prefetch" href="/assets/js/39.4e5d90d1.js"><link rel="prefetch" href="/assets/js/4.09c4d01f.js"><link rel="prefetch" href="/assets/js/40.7375ce5c.js"><link rel="prefetch" href="/assets/js/41.52b725c1.js"><link rel="prefetch" href="/assets/js/5.e0ba71ad.js"><link rel="prefetch" href="/assets/js/6.cb899a6f.js"><link rel="prefetch" href="/assets/js/7.a5a53c32.js"><link rel="prefetch" href="/assets/js/8.28605055.js"><link rel="prefetch" href="/assets/js/9.ca308b01.js">
    <link rel="stylesheet" href="/assets/css/0.styles.84741abc.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">yangleduo</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/basics/" class="nav-link router-link-active">
  Java基础
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="算法" class="dropdown-title"><span class="title">算法</span> <span class="arrow down"></span></button> <button type="button" aria-label="算法" class="mobile-dropdown-title"><span class="title">算法</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/algo/algorithm/算法.html" class="nav-link">
  算法
</a></li><li class="dropdown-item"><!----> <a href="/algo/offer/剑指offer.html" class="nav-link">
  剑指 offer
</a></li><li class="dropdown-item"><!----> <a href="/algo/structure/数据结构.html" class="nav-link">
  数据结构
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java进阶" class="dropdown-title"><span class="title">Java进阶</span> <span class="arrow down"></span></button> <button type="button" aria-label="Java进阶" class="mobile-dropdown-title"><span class="title">Java进阶</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/advance/Java并发基础.html" class="nav-link">
  并发
</a></li><li class="dropdown-item"><!----> <a href="/advance/Java虚拟机.html" class="nav-link">
  JVM
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计算机基础" class="dropdown-title"><span class="title">计算机基础</span> <span class="arrow down"></span></button> <button type="button" aria-label="计算机基础" class="mobile-dropdown-title"><span class="title">计算机基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/computer/web/计算机网络.html" class="nav-link">
  计算机网络
</a></li><li class="dropdown-item"><!----> <a href="/computer/os/OS.html" class="nav-link">
  操作系统
</a></li><li class="dropdown-item"><!----> <a href="/computer/database/MySQL.html" class="nav-link">
  数据库
</a></li></ul></div></div> <a href="https://github.com/yangleduo617/blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    查看源码
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/basics/" class="nav-link router-link-active">
  Java基础
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="算法" class="dropdown-title"><span class="title">算法</span> <span class="arrow down"></span></button> <button type="button" aria-label="算法" class="mobile-dropdown-title"><span class="title">算法</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/algo/algorithm/算法.html" class="nav-link">
  算法
</a></li><li class="dropdown-item"><!----> <a href="/algo/offer/剑指offer.html" class="nav-link">
  剑指 offer
</a></li><li class="dropdown-item"><!----> <a href="/algo/structure/数据结构.html" class="nav-link">
  数据结构
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java进阶" class="dropdown-title"><span class="title">Java进阶</span> <span class="arrow down"></span></button> <button type="button" aria-label="Java进阶" class="mobile-dropdown-title"><span class="title">Java进阶</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/advance/Java并发基础.html" class="nav-link">
  并发
</a></li><li class="dropdown-item"><!----> <a href="/advance/Java虚拟机.html" class="nav-link">
  JVM
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计算机基础" class="dropdown-title"><span class="title">计算机基础</span> <span class="arrow down"></span></button> <button type="button" aria-label="计算机基础" class="mobile-dropdown-title"><span class="title">计算机基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/computer/web/计算机网络.html" class="nav-link">
  计算机网络
</a></li><li class="dropdown-item"><!----> <a href="/computer/os/OS.html" class="nav-link">
  操作系统
</a></li><li class="dropdown-item"><!----> <a href="/computer/database/MySQL.html" class="nav-link">
  数据库
</a></li></ul></div></div> <a href="https://github.com/yangleduo617/blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    查看源码
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Java</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/basics/notes/Chapter01_基础.html" class="sidebar-link">Chapter01_基础</a></li><li><a href="/basics/notes/Chapter02_数据类型.html" class="sidebar-link">Chapter02_数据类型</a></li><li><a href="/basics/notes/Chapter03_运算符和进制.html" class="sidebar-link">Chapter03_运算符和进制</a></li><li><a href="/basics/notes/Chapter04_控制结构.html" class="sidebar-link">Chapter04_控制结构</a></li><li><a href="/basics/notes/Chapter05_数组.html" class="sidebar-link">Chapter05_数组</a></li><li><a href="/basics/notes/Chapter06_类.html" class="sidebar-link">Chapter06_类</a></li><li><a href="/basics/notes/Chapter07_成员方法.html" class="sidebar-link">Chapter07_成员方法</a></li><li><a href="/basics/notes/Chapter08_OOP.html" aria-current="page" class="active sidebar-link">Chapter08_OOP</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/basics/notes/Chapter08_OOP.html#包" class="sidebar-link">包</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/basics/notes/Chapter08_OOP.html#命名规则" class="sidebar-link">命名规则</a></li><li class="sidebar-sub-header"><a href="/basics/notes/Chapter08_OOP.html#命名规范" class="sidebar-link">命名规范</a></li></ul></li><li class="sidebar-sub-header"><a href="/basics/notes/Chapter08_OOP.html#访问修饰符" class="sidebar-link">访问修饰符</a></li><li class="sidebar-sub-header"><a href="/basics/notes/Chapter08_OOP.html#oop特征" class="sidebar-link">OOP特征</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/basics/notes/Chapter08_OOP.html#封装" class="sidebar-link">封装</a></li><li class="sidebar-sub-header"><a href="/basics/notes/Chapter08_OOP.html#继承" class="sidebar-link">继承</a></li><li class="sidebar-sub-header"><a href="/basics/notes/Chapter08_OOP.html#多态" class="sidebar-link">多态</a></li><li class="sidebar-sub-header"><a href="/basics/notes/Chapter08_OOP.html#多态应用" class="sidebar-link">多态应用</a></li><li class="sidebar-sub-header"><a href="/basics/notes/Chapter08_OOP.html#object类详解" class="sidebar-link">Object类详解</a></li></ul></li></ul></li><li><a href="/basics/notes/Chapter09_接口.html" class="sidebar-link">Chapter09_接口</a></li><li><a href="/basics/notes/Chapter10_枚举.html" class="sidebar-link">Chapter10_枚举</a></li><li><a href="/basics/notes/Chapter11_异常.html" class="sidebar-link">Chapter11_异常</a></li><li><a href="/basics/notes/Chapter12_包装类和String.html" class="sidebar-link">Chapter12_包装类和String</a></li><li><a href="/basics/notes/Chapter13_集合.html" class="sidebar-link">Chapter13_集合</a></li><li><a href="/basics/notes/Chapter14_泛型.html" class="sidebar-link">Chapter14_泛型</a></li><li><a href="/basics/notes/Chapter15_线程.html" class="sidebar-link">Chapter15_线程</a></li><li><a href="/basics/notes/Chapter16_IO流.html" class="sidebar-link">Chapter16_IO流</a></li><li><a href="/basics/notes/Chapter17_网络.html" class="sidebar-link">Chapter17_网络</a></li><li><a href="/basics/notes/Chapter18_反射.html" class="sidebar-link">Chapter18_反射</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>其他</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="chapter08"><a href="#chapter08" class="header-anchor">#</a> Chapter08</h1> <h2 id="包"><a href="#包" class="header-anchor">#</a> 包</h2> <h3 id="命名规则"><a href="#命名规则" class="header-anchor">#</a> 命名规则</h3> <p>只能数字、字母、下划线、小圆点。不能<strong>数字</strong>开头，不能包含关键字或保留字。</p> <h3 id="命名规范"><a href="#命名规范" class="header-anchor">#</a> 命名规范</h3> <p>com.公司.项目名.业务模块名</p> <h2 id="访问修饰符"><a href="#访问修饰符" class="header-anchor">#</a> 访问修饰符</h2> <ol><li>public：对外公开</li> <li>protected：对子类和同一包中的类公开</li> <li>没有修饰符：默认级别，向同一个包的类公开</li> <li>private：只有类本身可以访问，不对外公开</li> <li>只有默认和public修饰类</li></ol> <table><thead><tr><th style="text-align:center;">访问级别</th> <th style="text-align:center;">访问修饰符</th> <th style="text-align:center;">本类</th> <th style="text-align:center;">同包</th> <th style="text-align:center;">子类</th> <th style="text-align:center;">不同包</th></tr></thead> <tbody><tr><td style="text-align:center;">公开</td> <td style="text-align:center;">public</td> <td style="text-align:center;">✔</td> <td style="text-align:center;">✔</td> <td style="text-align:center;">✔</td> <td style="text-align:center;">✔</td></tr> <tr><td style="text-align:center;">受保护</td> <td style="text-align:center;">protected</td> <td style="text-align:center;">✔</td> <td style="text-align:center;">✔</td> <td style="text-align:center;">✔</td> <td style="text-align:center;">❌</td></tr> <tr><td style="text-align:center;">默认</td> <td style="text-align:center;">无</td> <td style="text-align:center;">✔</td> <td style="text-align:center;">✔</td> <td style="text-align:center;">❌（不同包）✔（同包）</td> <td style="text-align:center;">❌</td></tr> <tr><td style="text-align:center;">私有</td> <td style="text-align:center;">private</td> <td style="text-align:center;">✔</td> <td style="text-align:center;">❌</td> <td style="text-align:center;">❌</td> <td style="text-align:center;">❌</td></tr></tbody></table> <h2 id="oop特征"><a href="#oop特征" class="header-anchor">#</a> OOP特征</h2> <h3 id="封装"><a href="#封装" class="header-anchor">#</a> 封装</h3> <p>将类中的属性和方法封装起来，外部只能通过相应方法访问和修改。</p> <p>实现方法：</p> <ol><li><p>private修饰方法和属性</p></li> <li><p>创建public修饰的访问方法 (<strong>快捷键alt + Insert</strong>)</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setXxx</span><span class="token punctuation">(</span>类型 参数名<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">// 加入数据验证和业务逻辑</span>
	属性 <span class="token operator">=</span> 参数名；
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li> <li><p>创建public修饰的获取方法</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> xxx <span class="token function">getXxx</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 增加对当前对象的权限判断</span>
	<span class="token keyword">return</span> xxx；
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li></ol> <p>如果与构造器相结合，将setXxx()方法写入构造器中。</p> <h3 id="继承"><a href="#继承" class="header-anchor">#</a> 继承</h3> <p>可以解决代码复用，多个类有相同的属性和方法，抽象一个父类，将相同的属性和方法定义在父类中，子类extends即可。子类又叫派生类，父类又叫超类、基类。</p> <p>注意：</p> <ul><li><p>子类继承了父类所有的属性和方法，但是不能访问private属性，需要通过父类<strong>公共</strong>的方法访问。</p></li> <li><p>子类必须调用父类的<strong>构造器</strong>，完成父类的初始化。</p></li> <li><p><strong>创建子对象时，不管使用子类的哪个构造器，默认情况下总会调用父类的无参构造器</strong>。若父类没有定义无参构造器，则在子类需用<strong>super</strong>来指定调用父类的哪个构造器，完成初始化。</p></li> <li><p>super()只能在子类构造器<strong>第一行</strong>。</p></li> <li><p>在子类中调用父类的某个构造器时，显示调用：super(参数列表);</p></li> <li><p>super(); this();都只能放在<strong>构造器的第一行</strong>，因此不能存在同一个构造器中。</p></li> <li><p><strong>Object类</strong>是所有类的基类。</p></li> <li><p>父类构造器的调用不限于直接父类，将一直追溯到Object类。</p></li> <li><p>子类最多只能继承一个父类，java中是<strong>单继承机制</strong>。</p></li> <li><p>不能滥用继承，子类和父类之间必须满足相应的逻辑关系。</p> <p>（Music extends Person ❌）(Cat extends Animal ✔)</p></li></ul> <h4 id="继承的本质"><a href="#继承的本质" class="header-anchor">#</a> 继承的本质</h4> <p>按照<strong>查找关系</strong>返回信息：首先查看子类是否有该属性，有且可以访问就返回；如果没有，向父类查找，有且可以访问就返回，逐渐向上查找至Object类。</p> <p>若在查找过程中，找到了，但是不能访问，则报错；若没有找到，提示方法不存在。</p> <p><img src="https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/1204/extends.png" alt=""></p> <h4 id="super关键字"><a href="#super关键字" class="header-anchor">#</a> super关键字</h4> <p>代表父类的引用，可以访问父类的属性、方法、构造器。</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token function">cal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 等价于 this.cal();</span>
<span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">cal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 在父类中查找方法</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>多个基类有相同的成员方法，super访问遵循就近原则。</li></ul> <table><thead><tr><th style="text-align:center;">区别</th> <th style="text-align:center;">this</th> <th style="text-align:center;">super</th></tr></thead> <tbody><tr><td style="text-align:center;">访问属性</td> <td style="text-align:center;">访问本类，若没有从父类查找</td> <td style="text-align:center;">从父类开始查找</td></tr> <tr><td style="text-align:center;">调用方法</td> <td style="text-align:center;">访问本类，若没有从父类查找</td> <td style="text-align:center;">从父类开始查找方法</td></tr> <tr><td style="text-align:center;">调用构造器</td> <td style="text-align:center;">调用本类的构造器，放在构造器首行</td> <td style="text-align:center;">调用父类构造器，放在子类构造器首行</td></tr> <tr><td style="text-align:center;">特殊</td> <td style="text-align:center;">表示当前对象</td> <td style="text-align:center;">子类中访问父类对象</td></tr></tbody></table> <h3 id="多态"><a href="#多态" class="header-anchor">#</a> 多态</h3> <h4 id="方法重写与重载体现多态"><a href="#方法重写与重载体现多态" class="header-anchor">#</a> 方法重写与重载体现多态</h4> <p>重写:</p> <ol><li>子类方法的<strong>参数、方法名</strong>与父类一样；</li> <li>子类方法的<strong>返回类型</strong>与父类一样，或者是<strong>父类的子类</strong>；</li> <li>子类方法不能<strong>缩小</strong>父类方法的<strong>访问权限</strong>。</li></ol> <table><thead><tr><th style="text-align:center;">名称</th> <th style="text-align:center;">发生范围</th> <th style="text-align:center;">方法名</th> <th style="text-align:center;">形参列表</th> <th style="text-align:center;">返回类型</th> <th style="text-align:center;">修饰符</th></tr></thead> <tbody><tr><td style="text-align:center;">重载（overload）</td> <td style="text-align:center;">本类</td> <td style="text-align:center;">一样</td> <td style="text-align:center;">类型、个数、顺序至少一个不同</td> <td style="text-align:center;">无要求</td> <td style="text-align:center;">无要求</td></tr> <tr><td style="text-align:center;">重写（override）</td> <td style="text-align:center;">父子类</td> <td style="text-align:center;">一样</td> <td style="text-align:center;">相同</td> <td style="text-align:center;">重写的方法返回类型和父类的一致或者是其子类</td> <td style="text-align:center;">子类方法不能缩小父类的访问范围</td></tr></tbody></table> <h4 id="对象的多态"><a href="#对象的多态" class="header-anchor">#</a> 对象的多态</h4> <ol><li><p>一个对象的编译类型和运行类型可以不一致</p></li> <li><p><strong>编译类型</strong>在定义对象时就确定了，<strong>不能改变</strong></p></li> <li><p><strong>运行类型</strong>是可以<strong>改变</strong>的</p></li> <li><p>编译类型看类定义时等号的左边，运行类型看等号的右边</p></li></ol> <p>注意：</p> <ol><li><p>前提是两个对象存在<code>继承</code>关系</p></li> <li><p><strong>向上转型</strong>，本质就是<code>父类的引用指向子类的对象</code>。可以调用<strong>父类</strong>所有成员（遵守访问权限），子类中特有成员不能调用。最终的实现效果需要看子类的具体体现。</p></li> <li><p>在编译阶段，能调用哪些成员，由编译类型决定；在运行阶段，<code>调用方法</code>从子类（运行类型）开始查找。</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 向上转型</span>
<span class="token class-name">Animal</span> animal <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li> <li><p><strong>向下转型</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 向下转型</span>
<span class="token class-name">Cat</span> cat <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Cat</span><span class="token punctuation">)</span> animal<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>语法：子类类型 引用名 = （子类类型） 父类引用</li> <li>只能强转<code>父类的引用</code>，不能强转父类的对象</li> <li>要求父类的引用必须指向的是当前目标类型的对象</li> <li>可以调用<strong>子类</strong>类型中所有的成员</li></ul></li> <li><p>属性没有重写，属性的值直接看<strong>编译类型</strong>。</p></li> <li><p>instanceof比较操作符，判断对象的<strong>运行类型</strong>是否为XX类型或XX类型的子类型。</p></li></ol> <h4 id="动态绑定机制"><a href="#动态绑定机制" class="header-anchor">#</a> 动态绑定机制</h4> <p>当调用对象方法的时候，该方法会和该对象的<strong>内存地址/运行类型</strong>绑定，调用对象属性时，没有动态绑定机制。</p> <h3 id="多态应用"><a href="#多态应用" class="header-anchor">#</a> 多态应用</h3> <h4 id="多态数组"><a href="#多态数组" class="header-anchor">#</a> 多态数组</h4> <p><strong>数组的定义类型为父类类型，其中元素类型为子类类型</strong>。</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Person</span><span class="token punctuation">[</span><span class="token punctuation">]</span> persons <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
persons<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;tom&quot;</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
persons<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token string">&quot;jerry&quot;</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token number">95</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
persons<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token string">&quot;jack&quot;</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">,</span> <span class="token number">96</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
persons<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Teacher</span><span class="token punctuation">(</span><span class="token string">&quot;smith&quot;</span><span class="token punctuation">,</span> <span class="token number">32</span><span class="token punctuation">,</span> <span class="token number">20000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
persons<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Teacher</span><span class="token punctuation">(</span><span class="token string">&quot;king&quot;</span><span class="token punctuation">,</span> <span class="token number">42</span><span class="token punctuation">,</span> <span class="token number">25000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 循环遍历多态数组,调用方法的动态绑定机制</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> persons<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>persons<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
结果：
tom	<span class="token number">20</span>
jerry	<span class="token number">18</span> score <span class="token number">95.0</span>
jack	<span class="token number">19</span> score <span class="token number">96.0</span>
smith	<span class="token number">32</span> salary <span class="token number">20000.0</span>
king	<span class="token number">42</span> salary <span class="token number">25000.0</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h4 id="多态参数"><a href="#多态参数" class="header-anchor">#</a> 多态参数</h4> <p>方法定义的形参类型为父类类型，实参类型为子类类型。</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Staff</span> yang <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Staff</span><span class="token punctuation">(</span><span class="token string">&quot;yang&quot;</span><span class="token punctuation">,</span> <span class="token number">20000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">showEmpAnnal</span><span class="token punctuation">(</span>yang<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">testWork</span><span class="token punctuation">(</span>yang<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Manager</span> ali <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Manager</span><span class="token punctuation">(</span><span class="token string">&quot;ali&quot;</span><span class="token punctuation">,</span> <span class="token number">30000</span><span class="token punctuation">,</span> <span class="token number">250000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">showEmpAnnal</span><span class="token punctuation">(</span>ali<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">testWork</span><span class="token punctuation">(</span>ali<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">showEmpAnnal</span><span class="token punctuation">(</span><span class="token class-name">Employee</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 动态绑定机制</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">getAnnual</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">testWork</span><span class="token punctuation">(</span><span class="token class-name">Employee</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>e <span class="token keyword">instanceof</span> <span class="token class-name">Staff</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// 向下转型</span>
            <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">Staff</span><span class="token punctuation">)</span> e<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">work</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>e <span class="token keyword">instanceof</span> <span class="token class-name">Manager</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">Manager</span><span class="token punctuation">)</span> e<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">manage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;不做处理&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
结果：
<span class="token number">240000.0</span>
<span class="token class-name">Staff</span> yang is working<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token number">610000.0</span>
<span class="token class-name">Manager</span> ali is management
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><h3 id="object类详解"><a href="#object类详解" class="header-anchor">#</a> Object类详解</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token function">equals</span><span class="token punctuation">(</span><span class="token class-name">Object</span> obj<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 指示其他某个对象是否与此对象“相等”</span>
<span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 返回该对象的哈希码值</span>
<span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 返回该对象的字符串表示</span>
<span class="token function">finalize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 当垃圾回收器确定不存在对该对象的更多引用时，由对象的垃圾回收器调用此方法</span>
<span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 返回此 Object 的运行时类</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ol><li><p>&quot;==&quot;与equals比较</p> <ul><li>&quot;==&quot;可以判断基本类型和引用类型，分别判断基本类型的<strong>值</strong>和引用类型的<strong>地址</strong>是否相等。</li> <li>equals只能用于判断引用类型，默认判断<strong>地址</strong>是否相等，<strong>子类</strong>会重写该方法，用于判断<strong>内容</strong>是否相等，如Integer、String子类判断内容是否相等。</li></ul></li> <li><p>hashCode方法</p> <ul><li>提高具有哈希结构的容器的效率</li> <li>两个引用指向同一个对象，哈希值一样，如果指向不同的对象，哈希值不一样</li> <li>哈希值是由地址计算出来的，二者不同</li> <li>在集合中 hashCode 重写</li></ul></li> <li><p>toString方法</p> <ul><li>默认返回：全类名（包名、类名） + @ + 哈希值的十六进制。</li> <li>子类重写toString方法，用于返回对象的属性信息。打印或者拼接对象时，会自动调用该对象的toString形式。</li></ul> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 当直接输出一个对象时，toString方法会默认调用。</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 默认调用person.toString();</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li> <li><p>finalize方法</p> <ul><li>回收对象时，系统自动调用该对象的finalize方法，子类可以重写该方法，做一些释放资源的操作（程序员的自己业务逻辑代码）。</li> <li>当某个对象没有任何引用时，JVM机将该对象看作垃圾对象，用垃圾回收机制进行回收该对象时就会调用该方法。</li> <li>系统决定垃圾回收机制的调用（垃圾回收算法 ），也可通过System.gc()主动出发垃圾回收机制。</li></ul></li></ol></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/yangleduo617/blog/edit/master/basics/notes/Chapter08_OOP.md" target="_blank" rel="noopener noreferrer">在 GitHub 上编辑此页</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">7/17/2022, 1:34:48 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/basics/notes/Chapter07_成员方法.html" class="prev">
        Chapter07_成员方法
      </a></span> <span class="next"><a href="/basics/notes/Chapter09_接口.html">
        Chapter09_接口
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.8ab89fd3.js" defer></script><script src="/assets/js/2.1806de2e.js" defer></script><script src="/assets/js/25.18216ebd.js" defer></script>
  </body>
</html>
